# Day 1 Baseline Summary (2026-02-23)

## Commands Run

- `npm run lint`
- `npm run test:coverage`
- `npm run test:e2e`
- `npm run build`
- `npx tsc -b --noEmit`
- `npm run audit:deps:json`
- `node scripts/security/summarize-npm-audit.mjs audit/2026-02/outputs/day1-audit-deps-json.txt audit/2026-02/outputs/day1-audit-deps-summary.md`
- `npm outdated`

Raw outputs are stored in `muwi/audit/2026-02/outputs/`.

## Results

### Lint
- Status: `PASS`
- Output file: `muwi/audit/2026-02/outputs/day1-lint.txt`
- Notes: ESLint completed with no reported errors/warnings in command output.

### Test Coverage
- Status: `PASS`
- Output file: `muwi/audit/2026-02/outputs/day1-test-coverage.txt`
- Coverage (All files):
  - Statements: `89.15%`
  - Branches: `80.31%`
  - Functions: `86.35%`
  - Lines: `89.52%`

### E2E (Playwright)
- Status: `PASS` (after elevated rerun)
- Output file: `muwi/audit/2026-02/outputs/day1-test-e2e.txt`
- Result: `7 passed (10.4s)`
- Notes:
  - Initial sandboxed run failed with `listen EPERM` on `127.0.0.1:4173` while starting Playwright `webServer`.
  - Elevated rerun succeeded and should be treated as the valid baseline result.

### Build (Vite)
- Status: `PASS`
- Output file: `muwi/audit/2026-02/outputs/day1-build.txt`
- Result: `built in 25.39s`
- Warnings:
  - Vite chunk-size warnings (`> 500 kB after minification`)

### TypeScript (no emit)
- Status: `PASS`
- Output file: `muwi/audit/2026-02/outputs/day1-tsc-noemit.txt`
- Notes: `npx tsc -b --noEmit` completed with no compiler errors.

### Dependency Audit (npm audit)
- JSON output: `muwi/audit/2026-02/outputs/day1-audit-deps-json.txt`
- Summary output (script log): `muwi/audit/2026-02/outputs/day1-audit-deps-summary.txt`
- Summary report (Markdown): `muwi/audit/2026-02/outputs/day1-audit-deps-summary.md`
- Result summary:
  - Total vulnerable packages: `29`
  - `Critical: 0`
  - `High: 23`
  - `Moderate: 5`
  - `Low: 1`
- Notes:
  - `npm audit --json` exits non-zero when vulnerabilities are present (expected behavior here).
  - High-severity findings are concentrated in build/dev toolchain packages (notably `electron-builder` and `typescript-eslint` dependency chains), but still require triage and upgrade planning.

### npm outdated
- Output file: `muwi/audit/2026-02/outputs/day1-npm-outdated.txt`
- Status: `INFO` (`npm outdated` exits non-zero when updates are available)
- Result summary:
  - Outdated packages listed: `26`
- Notable current->wanted/latest examples:
  - `electron`: `40.0.0 -> 40.6.0` (wanted/latest)
  - `react-router-dom`: `7.12.0 -> 7.13.0`
  - `tailwindcss`: `4.1.18 -> 4.2.1`
  - TipTap packages (`@tiptap/*`) have multiple minor updates available (`3.20.0`)

## Artifact Size Snapshot

- Snapshot file: `muwi/audit/2026-02/outputs/day1-build-artifacts.txt`
- Directory sizes captured:
  - `dist`: `14M`
  - `dist-electron`: `8.0K` (present in workspace; not generated by `npm run build`)

Largest files captured in snapshot:
- `dist/assets/diary-academic-UeK10TUh.js` - `3,969,928 bytes`
- `dist/assets/subset-shared.chunk-lRIfjqMm.js` - `1,820,546 bytes`
- `dist/assets/flowchart-elk-definition-6af322e1-CeimiMre.js` - `1,451,589 bytes`
- `dist/assets/diary-blackboard-C6wv-VLi.js` - `1,137,350 bytes`
- `dist/assets/mindmap-definition-8da855dc-BPpDVvop.js` - `541,913 bytes`

## Immediate Day 1 Findings (Baseline)

- `PERF-BUNDLE-001` (Medium): Multiple production chunks exceed Vite's `500 kB` warning threshold; investigate code splitting/manual chunking for large diary/editor modules.
- `ENV-E2E-001` (Low): Local sandbox restrictions can produce false-negative E2E failures (`EPERM` on localhost bind) unless run with elevated permissions.
- `SEC-DEPS-001` (High): `npm audit` reports `23` high-severity and `5` moderate-severity dependency vulnerabilities (29 total vulnerable packages), requiring triage of direct vs transitive/runtime impact.
- `MAINT-DEPS-001` (Low): `npm outdated` reports `26` outdated packages; create phased upgrade plan (patch/minor first, then major-risk items).
